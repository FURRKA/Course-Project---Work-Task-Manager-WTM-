@model List<TaskModel>

@{
    ViewData["Title"] = "Home Page";
}

<h2 class="text-center mt-4">Главная страница</h2>

<div class="row mt-3">
    <!-- 🔷 Выпадающий список тегов -->
    <div class="col-md-3 bg-pink p-3 rounded">
        <strong>Теги:</strong>
        <div class="form-check">
            <input class="form-check-input" type="checkbox" id="tag1">
            <label class="form-check-label" for="tag1">Тег 1</label>
        </div>
    </div>

    <!-- 🔵 Список задач -->
    <div class="col-md-5 bg-info p-3 rounded">
        <strong>Список задач:</strong>
        <ul class="list-group">
            @foreach (var task in Model)
            {
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    @task.Title
                    <a asp-action="TaskDetails" asp-controller="Task" asp-route-id="@task.Id" class="btn btn-outline-primary btn-sm">Открыть</a>
                </li>
            }
        </ul>
    </div>

    <!-- 🟩 Список комментариев -->
    <div class="col-md-4 bg-success p-3 rounded">
        <strong>Комментарии:</strong>й
        <div id="comments">
            @if (Model.First().Comments.Any())
            {
                @foreach (var comment in Model.First().Comments)
                {
                    <div class="border-bottom pb-2 mb-2">
                        <p><strong>Автор:</strong> @comment.Author</p>
                        <p>@comment.Text</p>
                        <p><small>@comment.Date.ToString("yyyy-MM-dd HH:mm")</small></p>
                    </div>
                }
            }
            else
            {
                <p class="text-muted">Комментариев нет.</p>
            }
        </div>
    </div>
</div>

<!-- 🟪 Текстовое поле для нового комментария -->
<div class="mt-3 bg-purple p-3 rounded">
    <textarea class="form-control" rows="3" placeholder="Напишите комментарий..."></textarea>
</div>

<!-- 🔵 Кнопка отправки комментария -->
<div class="text-end mt-2">
    <button class="btn btn-primary">Отправить комментарий</button>
</div>
